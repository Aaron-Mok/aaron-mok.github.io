
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta http-equiv="X-UA-Compatible" content="ie=edge"/>
<meta name="theme-color" content="#478079"/>



<title>Aaron Mok | System Architect</title>
<meta name="description" content='This is Aaron Mok&#39;s personal website. He is a System Architect based in San Jose, CA, specializing in the design and optimization of complex optical systems.'>
<meta name="generator-mode" content='production'>
<style data-generator="critical-css">
</style>
  <link rel="stylesheet" href="https://aaron-mok.github.io/scss/adritian.min.c43980c726e1de153bec9c6b98a1e28b34cd282522a8f596ab3bb88d4b55c066.css" integrity="sha256-xDmAxybh3hU77JxrmKHiizTNKCUiqPWWqzu4jUtVwGY=" crossorigin="anonymous"/>

<link
  rel="preload"
  href="/css/bundle.min.4862b0b6b4def0746a01fd8347d3c089db65ce7898c2587d08d489dba7de5a39.css"
  as="style"
  onload="this.onload=null;this.rel='stylesheet'"
  integrity="sha256-SGKwtrTe8HRqAf2DR9PAidtlzniYwlh9CNSJ26feWjk="
    crossorigin="anonymous"
/>
<noscript>
  <link 
    rel="stylesheet"
    href="/css/bundle.min.4862b0b6b4def0746a01fd8347d3c089db65ce7898c2587d08d489dba7de5a39.css"
    integrity="sha256-SGKwtrTe8HRqAf2DR9PAidtlzniYwlh9CNSJ26feWjk="
    crossorigin="anonymous"
  />
</noscript>





  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-32S011CNTY"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-32S011CNTY');
  </script>
 

    
      <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script>
  MathJax = {
    tex: {
      displayMath: [['\\[', '\\]'], ['$$', '$$']],  
      inlineMath: [['\\(', '\\)']]                  
    }
  };
</script>
    
  </head>

  <body>
    

<header class="header fixed-top rad-animation-group" id="header">
  <div class="container rad-fade-in">
    <nav class="navbar navbar-expand-lg navbar-light p-0">
      <div class="container-fluid">
        <a class="navbar-brand mx-auto" href="https://aaron-mok.github.io/">
          <span>Aaron</span>
          <span>Mok</span>
        </a>
        <button
          class="navbar-toggler collapsed"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent, #header"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ml-lg-auto">
            <li class="nav-item">
              <a class="nav-link active" href="https://aaron-mok.github.io/">HOME</a>
            </li>
            
            <li class="nav-item">
              <a data-scroll class="nav-link" href="/#about"
                >ABOUT</a
              >
            </li>
            
            <li class="nav-item">
              <a data-scroll class="nav-link" href="/#experience"
                >EXPERIENCE</a
              >
            </li>
            
            <li class="nav-item">
              <a data-scroll class="nav-link" href="/#portfolio"
                >PORTFOLIO</a
              >
            </li>
            
            <li class="nav-item">
              <a data-scroll class="nav-link" href="/blog"
                >BLOG</a
              >
            </li>
            
            <li class="nav-item">
              <a data-scroll class="nav-link" href="/#contact"
                >CONTACT</a
              >
            </li>
            
          </ul>
        </div>
      </div>
    </nav>
  </div>
</header>


<section id="breadcrumb-bar" class="breadcrumb-bar container">
        <ul class="breadcrumbs">
            <li class="breadcrum-item"><span><a href="/">Home</a></span></li><li class="breadcrum-item"><span><a href="/blog">Blog</a></span></li><li class="breadcrum-item current">Light Detection and Ranging (LiDAR) (with Zemax simulation)</li></ul>
</section>


    <section
      id="blog-single"
      class="section section--border-bottom rad-animation-group"
    >
      <div class="container">
        <h1><a href="/blog/lidar/">Light Detection and Ranging (LiDAR) (with Zemax simulation)</a></h1>

        <aside id="meta" class="light-border-bottom">
          <div>
            <section>
              Published on
              <h4 id="date">Sun Jan 5, 2025</h4>
              Â·
              <h4 id="wordcount">746 Words</h4>
            </section>
             
          </div>
        </aside>

        <div class="row flex-column-reverse flex-md-row rad-fade-down">
          <div class="col-12"><p><img src="/img/blog/LiDAR/LiDAR.webp" alt="ToF art"></p>
<p>In last blog, I have discussed optical time-of-fligth (ToF) sensing and how it works. However, it is with a single emitter that emits a single beam of light and with single-pixel detector.
We can only measure ToF in a single point in space.</p>
<p>How do we sense depth across an area?
Light Detection and Ranging (LiDAR) is the system based on ToF sensing that can measure depth across an area.
In this blog, I will (a) discuss LiDAR and (b) simulate a type of LiDAR, Flash LiDAR, using Zemax.</p>
<h2 id="how-to-scan-an-area">How to scan an area?</h2>
<p>To sense depth across an area, the first thing is to deliver light across the entire area.
We can generalize into two main ways, namely (1) mechanical scanning of a single beam across the scene or (2) wide-field illumination of the scene.</p>
<h3 id="1-mechanical-scanning">(1) Mechanical Scanning</h3>
<p>For mechanical scanning, a single beam is swept across the scene with an mechanical scanner. It will raster scan the scene such that the depth information of the whole scene can be mapped out.
In raster scanning, the beam moves horizontally across the scene from left to right (or right to left). Once a full line is scanned, the beam moves vertically to the next line and repeat the process. This is illustrated in the figure below.</p>
<figure class="center"><img src="/img/blog/LiDAR/scanningLiDAR.png"
    alt="scanning_LiDAR" width="auto">
</figure>

<p>There are multiple scanner to achieve this scanning. A list of scanners and general characteristics of using each is listed in the table below. Line rate is the speed the scanner can sweep the beam, scanning angle is the maximum angle that a scanning method is capable to sweep the beam. To achieve a 2D scanning, two scanning methods (can be same or different) will be chosen depending on the design criteria. The table below shows the range of speed and scanning angle for each scanning method. It is worthwhile to note that scanning angle and speed is always a trade-off, for a type of scanning method, a higher speed usually means a smaller scanning angle.</p>
<table>
  <thead>
      <tr>
          <th>Scanning Method</th>
          <th>Line rate</th>
          <th>Optical scanning angle</th>
          <th>Common Applications</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Galvo-mirrors</td>
          <td>&lt; kHz</td>
          <td>10<sup>o</sup>-40<sup>o</sup></td>
          <td></td>
      </tr>
      <tr>
          <td>Resonant-mirrors</td>
          <td>~10 kHz</td>
          <td>1<sup>o</sup>-15<sup>o</sup></td>
          <td></td>
      </tr>
      <tr>
          <td>Polygon mirror</td>
          <td>~10-100 kHz</td>
          <td>90<sup>o</sup>-360<sup>o</sup></td>
          <td>Automative LiDAR</td>
      </tr>
      <tr>
          <td>MEMS</td>
          <td>~10-50 kHz</td>
          <td>1<sup>o</sup>-10<sup>o</sup></td>
          <td>AR/VR headsets, smartphones, compact devices</td>
      </tr>
      <tr>
          <td>Fiber optics</td>
          <td>~1 MHz</td>
          <td>5<sup>o</sup>-30<sup>o</sup></td>
          <td></td>
      </tr>
      <tr>
          <td>Rotating mirror</td>
          <td>10-100 Hz</td>
          <td>90<sup>o</sup>-360<sup>o</sup></td>
          <td>Automative LiDAR</td>
      </tr>
      <tr>
          <td>Optical Phased Array (OPA)</td>
          <td>~ MHz</td>
          <td>10<sup>o</sup>-120<sup>o</sup></td>
          <td></td>
      </tr>
  </tbody>
</table>
<p><br><br></p>
<p><em><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>Add some image</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></em>****</p>
<p><br><br></p>
<h3 id="2-wide-field-illumination">(2) Wide-field illumination</h3>
<p>Another type of illumination is a wide-field illumination of the scene that does not require any scanning. It provides a way to capture depth infromation of the whole scene. It is called Flash LiDAR. This technology is adopted in the LiDAR of Iphone and Ipad (see the image below).</p>
<figure class="center"><img src="/img/blog/LiDAR/Apple_LiDAR.webp"
    alt="Apple_LiDAR" width="500px"><figcaption>
      <p>Image from Magicplan.app<sup>1</sup></p>
    </figcaption>
</figure>

<p>This is not to be confused with the depth sensing technology in faceID. Here, we intent to keep the discussion on depth sensing based on ToF.
In face ID, although there is also an array of dots, the depth sensing is based on &ldquo;light coding&rdquo; (stay tuned for a blog post on this!).</p>
<p>The illustration below shows how it works. The intention is to make ToF-based sensing works like a camera. We would flood the whole scheme with light (usually Infra-red), then collect the reflected or scattered light with a sensor (Sony IMX591 for example). Then the depth information of the whole scene can be detected in one shot, like a camera flash. Hence the name Flash LiDAR.</p>
<p>The illumination is usually a laser (Verticasl Cavity Surface-Emitting Laser, VSCEL) that is pulsed (~ns) and dot-pattened. These temporal and spatial patterning allow the increase of the signal-to-noise ratio (SNR) of the depth detection. To limit the scope of this blog post, a seperate blog post will discuss the in details the working principle. In short, pulsed laser allows temporal seperation of laser light to the enviromental light in detection. While dot pattern allows spatial seperation of laser light to the enviromental light in detection. Below shows an illustration of wide-field illumination of LiDAR.</p>
<figure class="center"><img src="/img/blog/LiDAR/wideField_LiDAR.png"
    alt="wideField_LiDAR" width="auto">
</figure>

<p>The detection would be with avalanche diodes (APDs) or silicon photomultipliers (SiPMs) that measures the ToF of the laser pulse directly with resolution at about hundreds of ps. The working principle will be explained in detail in another blog post. These diodes are packages into an 2D array, to detect the depth of the whole scene.</p>
<h2 id="simulation-of-flash-lidar">Simulation of flash LiDAR</h2>
<figure class="center"><img src="/img/blog/LiDAR/IlluminationOptics.png"
    alt="IlluminationOptics" width="50%">
</figure>

<h2 id="reference">Reference</h2>
<p>1: <a href="https://blog.magicplan.app/why-apples-lidar-scanner-opens-up-a-brave-new-world-of-indoor-mapping">https://blog.magicplan.app/why-apples-lidar-scanner-opens-up-a-brave-new-world-of-indoor-mapping</a></p>
<p>2: Modeling and Analysis of a Direct Time-of-Flight Sensor Architecture for LiDAR Applications</p>
<p>3: Fast Separation of Direct and Global Components of a Scene using High Frequency Illumination</p>
<ol start="4">
<li><a href="https://support.zemax.com/hc/en-us/articles/4408930472467-Modeling-a-Flash-Lidar-System-Part-1">https://support.zemax.com/hc/en-us/articles/4408930472467-Modeling-a-Flash-Lidar-System-Part-1</a></li>
</ol></div>
        </div>

        <aside class="content-browser light-border-top">
            Continue reading
            <div>
                
                    <a class="previous" href="/blog/time_of_flight/">â© Optical Time-of-Flight (ToF) sensing and lock-in detection</a>
                
                 â  
                
                    <a class="next" href="/blog/solidworks_showcase/"> Optics tooling and mounts âª</a>
                
            </div>
        </aside>
      </div>
    </section>

    <footer class="footer">
  <div class="container">
    <div class="footer__left">
      <div class="footer__copy">
        Â© Aaron Mok. All rights reserved.
      </div>
    </div>
    <div class="footer__links">
      <ul class="navbar-nav ">
        <li class="nav-item">
            <a class="nav-link" href="https://aaron-mok.github.io/">ð  HOME</a>
        </li>
        
      </ul>
    </div>
    <div class="footer__right">
      
    </div>
  </div>
</footer>
 <script>
  window.addEventListener("load", function() {
    try{
      var observer = window.lozad(".lozad", {
        rootMargin: window.innerHeight / 2 + "px 0px",
        threshold: 0.01
      }); 
      observer.observe();
    } catch(e) {
      console.error(e);
    }
  });
</script>
<script defer src='https://aaron-mok.github.io/js/rad-animations.js'></script>
<script defer src='https://aaron-mok.github.io/js/library/smooth-scroll.polyfills.min.js'></script>
<script defer src='https://aaron-mok.github.io/js/sticky-header.js'></script>
<script defer src='https://aaron-mok.github.io/js/smooth-scroll-init.js'></script>
<script defer src='https://aaron-mok.github.io/js/library/bootstrap.min.js'></script>





<script>
  window.si = window.si || function () { (window.siq = window.siq || []).push(arguments); };
</script>



  </body>
</html>

